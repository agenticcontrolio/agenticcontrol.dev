---
// src/layouts/TutorialLayout-OptionB.astro
// OPTION B: Medium Contrast - Balanced dark theme
import Layout from './Layout.astro';

interface Props {
  title: string;
  subtitle?: string;
  description: string;
  publishDate: Date;
  lastModified?: Date;
  author: string;
  difficulty: 'Beginner' | 'Intermediate' | 'Advanced';
  estimatedTime: number;
  estimatedCost: number;
  tags: string[];
  series?: string;
  seriesOrder?: number;
  image?: string;
}

const {
  title,
  subtitle,
  description,
  publishDate,
  lastModified,
  author,
  difficulty,
  estimatedTime,
  estimatedCost,
  tags,
  series,
  seriesOrder,
  image
} = Astro.props;

const formatDate = (date: Date) => {
  return new Intl.DateTimeFormat('en-US', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  }).format(date);
};

const difficultyColors = {
  'Beginner': 'text-machineGreen border-machineGreen/60',
  'Intermediate': 'text-amber border-amber/60',
  'Advanced': 'text-neonPink border-neonPink/60'
};
---

<Layout title={`${title} | AgenticControl.dev`} description={description} image={image} type="article">
  <article class="bg-background">
    <!-- Hero Section -->
    <section class="relative scanlines bg-gradient-to-b from-neonPurple/30 via-surface/30 to-background border-b-2 border-neonCyan/30">
      <div class="absolute inset-0 bg-[radial-gradient(circle_at_center,_rgba(4,217,255,0.15),_transparent_70%)] pointer-events-none"></div>

      <div class="max-w-5xl mx-auto px-6 md:px-8 py-16 md:py-24 relative z-10">
        <!-- Breadcrumb -->
        <div class="flex items-center gap-2 text-sm font-mono text-slate-300 mb-8">
          <a href="/" class="hover:text-neonCyan transition-colors">/home</a>
          <span class="text-slate-600">&gt;</span>
          <a href="/tutorials" class="hover:text-neonCyan transition-colors">/tutorials</a>
          <span class="text-slate-600">&gt;</span>
          <span class="text-neonCyan font-semibold">{title}</span>
        </div>

        <!-- Title -->
        <h1 class="font-display text-4xl md:text-5xl lg:text-6xl text-white mb-6 leading-tight tracking-wide">
          {title}
        </h1>

        <!-- Subtitle -->
        {subtitle && (
          <p class="text-xl md:text-2xl text-neonCyan font-medium mb-10 max-w-3xl leading-relaxed">
            {subtitle}
          </p>
        )}

        <!-- Meta Information -->
        <div class="flex flex-wrap gap-4 text-sm md:text-base mb-8">
          <div class={`px-4 py-2.5 rounded-lg border-2 ${difficultyColors[difficulty]} bg-black/40 backdrop-blur-sm font-mono font-bold text-sm shadow-lg`}>
            {difficulty.toUpperCase()}
          </div>
          <div class="px-4 py-2.5 rounded-lg border-2 border-neonCyan text-neonCyan bg-black/40 backdrop-blur-sm font-mono font-semibold flex items-center gap-2 shadow-lg shadow-neonCyan/20">
            <span class="text-base">‚è±</span>
            <span>{estimatedTime} min</span>
          </div>
          <div class="px-4 py-2.5 rounded-lg border-2 border-neonPink text-neonPink bg-black/40 backdrop-blur-sm font-mono font-semibold flex items-center gap-2 shadow-lg shadow-neonPink/20">
            <span class="text-base">üí∞</span>
            <span>${estimatedCost.toFixed(2)}</span>
          </div>
          {series && seriesOrder && (
            <div class="px-4 py-2.5 rounded-lg border-2 border-neonPurple text-neonPurple bg-black/40 backdrop-blur-sm font-mono font-semibold shadow-lg">
              {series} #{seriesOrder}
            </div>
          )}
        </div>

        <!-- Tags -->
        <div class="flex flex-wrap gap-3">
          {tags.map(tag => (
            <span class="px-3 py-1.5 rounded-md text-sm font-mono bg-surface/80 border border-slate-500/60 text-slate-200 hover:border-neonCyan/60 hover:text-neonCyan transition-colors">
              #{tag}
            </span>
          ))}
        </div>

        <!-- Author & Date -->
        <div class="mt-10 pt-8 border-t-2 border-surface/80 text-base text-slate-300 font-mono">
          <div class="flex flex-wrap gap-6 items-center">
            <span class="text-slate-400">By <span class="text-white font-semibold">{author}</span></span>
            <span class="text-slate-600">‚Ä¢</span>
            <span>Published <span class="text-white">{formatDate(publishDate)}</span></span>
            {lastModified && (
              <>
                <span class="text-slate-600">‚Ä¢</span>
                <span>Updated <span class="text-white">{formatDate(lastModified)}</span></span>
              </>
            )}
          </div>
        </div>
      </div>
    </section>

    <!-- Tutorial Content - OPTION B: Medium Contrast -->
    <section class="py-20 bg-gradient-to-b from-background via-slate-900/30 to-background">
      <div class="max-w-5xl mx-auto px-6 md:px-8">
        <!-- Content Card -->
        <div class="bg-slate-800/50 backdrop-blur-sm border-2 border-slate-700/60 rounded-3xl p-8 md:p-12 lg:p-16 shadow-2xl">
          <!-- Content Wrapper with Typography Styles -->
          <div class="prose prose-invert prose-slate max-w-none prose-lg
            prose-headings:font-display prose-headings:tracking-wider
            prose-h2:text-4xl prose-h2:mt-16 prose-h2:mb-8 prose-h2:pb-6 prose-h2:border-b-2 prose-h2:border-neonCyan/50 prose-h2:text-neonCyan
            prose-h3:text-3xl prose-h3:mt-12 prose-h3:mb-6 prose-h3:text-slate-200
            prose-h4:text-2xl prose-h4:mt-10 prose-h4:mb-5 prose-h4:text-slate-300
            prose-p:text-slate-400 prose-p:leading-relaxed prose-p:my-6 prose-p:text-lg
            prose-a:text-neonPink prose-a:font-semibold prose-a:no-underline hover:prose-a:text-neonCyan prose-a:underline prose-a:decoration-neonPink/40 hover:prose-a:decoration-neonCyan prose-a:transition-all prose-a:underline-offset-4
            prose-strong:text-neonCyan prose-strong:font-bold prose-strong:bg-neonCyan/10 prose-strong:px-1.5 prose-strong:py-0.5 prose-strong:rounded
            prose-code:text-neonPink prose-code:bg-slate-900/60 prose-code:px-2.5 prose-code:py-1 prose-code:rounded-md prose-code:text-base prose-code:font-mono prose-code:font-semibold prose-code:border prose-code:border-neonPink/30
            prose-pre:bg-slate-950 prose-pre:border-2 prose-pre:border-neonCyan/50 prose-pre:rounded-2xl prose-pre:shadow-2xl prose-pre:shadow-neonCyan/20 prose-pre:my-10
            prose-ul:text-slate-400 prose-ul:my-6 prose-ul:space-y-3
            prose-ol:text-slate-400 prose-ol:my-6 prose-ol:space-y-3
            prose-li:my-3 prose-li:text-lg prose-li:leading-relaxed
            prose-blockquote:border-l-4 prose-blockquote:border-neonPink prose-blockquote:bg-slate-900/40 prose-blockquote:px-8 prose-blockquote:py-6 prose-blockquote:rounded-r-xl prose-blockquote:text-slate-400 prose-blockquote:not-italic prose-blockquote:my-10 prose-blockquote:text-lg prose-blockquote:shadow-lg
            prose-img:rounded-2xl prose-img:border-2 prose-img:border-neonCyan/60 prose-img:shadow-neon-cyan/30 prose-img:my-10
            prose-hr:border-2 prose-hr:border-slate-700 prose-hr:my-16
          ">
            <slot />
          </div>
        </div>
      </div>
    </section>

    <!-- Tutorial Footer -->
    <section class="bg-gradient-to-b from-surface/60 to-background border-t-2 border-neonCyan/40 py-20">
      <div class="max-w-5xl mx-auto px-6 md:px-8">
        <div class="bg-surface/90 border-2 border-neonCyan/60 rounded-2xl p-10 md:p-12 scanlines shadow-2xl shadow-neonCyan/20">
          <div class="flex items-center gap-3 mb-6">
            <span class="text-4xl">‚úÖ</span>
            <h3 class="font-display text-4xl text-neonCyan tracking-wider">
              TUTORIAL COMPLETE
            </h3>
          </div>
          <p class="text-xl text-slate-200 mb-10 leading-relaxed">
            You've learned the fundamentals. Ready for the next challenge?
          </p>
          <div class="flex flex-wrap gap-5">
            <a
              href="/tutorials"
              class="px-8 py-4 border-2 border-neonCyan rounded-lg text-base font-bold tracking-wide bg-black/40 text-neonCyan hover:bg-neonCyan/20 hover:border-neonCyan hover:shadow-neon-cyan/50 transition-all shadow-lg"
            >
              VIEW ALL TUTORIALS
            </a>
            <a
              href="/#workflows"
              class="px-8 py-4 border-2 border-neonPink rounded-lg text-base font-bold tracking-wide bg-black/40 text-neonPink hover:bg-neonPink/20 hover:border-neonPink hover:shadow-neon-pink/50 transition-all shadow-lg"
            >
              EXPLORE AGENT PATTERNS
            </a>
          </div>
        </div>
      </div>
    </section>
  </article>
</Layout>
