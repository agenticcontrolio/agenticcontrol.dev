---
// src/components/SafetyBoundary.astro
// Safety warning box for tutorials involving PLC/systems/deployment
interface Props {
  type?: 'analysis' | 'advisory' | 'simulation';
}

const { type = 'analysis' } = Astro.props;

const messages = {
  analysis: {
    title: 'Analysis Only',
    description: 'This tutorial performs **analysis only**.'
  },
  advisory: {
    title: 'Advisory Only',
    description: 'This tutorial provides **recommendations only**.'
  },
  simulation: {
    title: 'Simulation Only',
    description: 'This tutorial uses **simulation only**.'
  }
};

const config = messages[type];
---

<div class="safety-boundary my-8 bg-vhs/80 border-l-4 border-neonPink rounded-r-lg p-6 shadow-neon-pink/20">
  <div class="flex gap-4">
    <!-- Warning Icon -->
    <div class="flex-shrink-0">
      <div class="w-10 h-10 rounded-full bg-neonPink/20 border border-neonPink/60 flex items-center justify-center text-neonPink text-xl">
        ⚠️
      </div>
    </div>

    <!-- Content -->
    <div class="flex-1">
      <h4 class="font-display text-lg text-neonPink mb-2 tracking-wider">
        ⚠️ SAFETY BOUNDARY REMINDER
      </h4>

      <div class="space-y-2 text-sm text-slate-300">
        <p class="font-semibold text-slate-200">
          {config.description}
        </p>

        <p>
          It must <strong class="text-neonPink">never</strong> be connected to:
        </p>

        <ul class="list-disc list-inside space-y-1 ml-2 text-slate-400">
          <li>Live PLCs</li>
          <li>Production deployment pipelines</li>
          <li>Safety-rated controllers</li>
          <li>Motion or power systems</li>
        </ul>

        <p class="mt-3 pt-3 border-t border-surface/60 text-amber font-mono text-xs">
          &gt; All outputs are <strong>advisory-only</strong> and always require <strong>explicit human approval</strong> before any real-world action.
        </p>
      </div>
    </div>
  </div>
</div>

<style>
  .safety-boundary {
    animation: pulse-border 3s ease-in-out infinite;
  }

  @keyframes pulse-border {
    0%, 100% {
      border-color: rgb(255 79 216 / 0.6);
    }
    50% {
      border-color: rgb(255 79 216 / 1);
    }
  }
</style>
